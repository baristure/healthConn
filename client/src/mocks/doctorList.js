import { rest } from "msw";
import { faker } from "@faker-js/faker";

const filterDoctorList = (doctorList, service) => {
  return doctorList.filter((item) => item.speciality === service);
};

export const getDoctorList = [
  rest.get("/services/:service", (req, res, ctx) => {
    const { service } = req.params;

    const data = [
      {
        id: 25896,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "radiology",
        rating: 4.8,
        image_url: "/images/doctor_man_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 14935,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "psychology",
        rating: 4.3,
        image_url: "/images/doctor_woman_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 78965,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "pathology",
        rating: 4.7,
        image_url: "",
        mobile_number: faker.phone.number(),
      },
      {
        id: 20390,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "oral and dental health",
        rating: 4.9,
        image_url: "/images/doctor_woman_2.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 48702,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "sports medicine",
        rating: 3.9,
        image_url: "/images/doctor_man_3.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 44780,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "hematology",
        rating: 3.5,
        image_url: "/images/doctor_man_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 10023,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "gastroenterology",
        rating: 4.1,
        image_url: "/images/doctor_woman_3.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 99653,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "gastroenterology",
        rating: 4.4,
        image_url: "/images/doctor_woman_2.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 77850,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "endocrinology",
        rating: 4.6,
        image_url: "/images/doctor_man_3.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 11125,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "dermatology",
        rating: 4.9,
        image_url: "/images/doctor_man_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 88956,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "dermatology",
        rating: 5.0,
        image_url: "/images/doctor_woman_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 30303,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "cardiology",
        rating: 4.2,
        image_url: "/images/doctor_man_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 45028,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "anesthesiology",
        rating: 4.7,
        image_url: "/images/doctor_man_3.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 98556,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "gastroenterology",
        rating: 4.7,
        image_url: "/images/doctor_woman_1.jpg",
        mobile_number: faker.phone.number(),
      },
      {
        id: 48900,
        first_name: faker.name.firstName(),
        last_name: faker.name.lastName(),
        office_number: faker.random.numeric(3),
        speciality: "radiology",
        rating: 4.3,
        image_url: "/images/doctor_man_3.jpg",
        mobile_number: faker.phone.number(),
      },
    ];

    const filteredDoctorList = filterDoctorList(data, service);
    return res(ctx.status(200), ctx.json(filteredDoctorList));
  }),
];
